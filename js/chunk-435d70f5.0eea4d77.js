(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-435d70f5"],{"5f27":function(e,t,a){},7511:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods-category"},[a("a-button",{staticClass:"add-btn",on:{click:e.addCategory}},[e._v("新增")]),a("a-table",{attrs:{columns:e.columns,"row-key":function(e){return e.id},"data-source":e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"operation",fn:function(t){return[a("div",[a("a-button",{on:{click:function(a){return e.editCategory(t)}}},[e._v("编辑")]),a("a-button",{on:{click:function(a){return e.deleteCategory(t)}}},[e._v("删除")])],1)]}}])}),a("a-modal",{attrs:{title:e.categoryMoadelTitle,centered:""},on:{ok:e.submit},model:{value:e.categoryModel,callback:function(t){e.categoryModel=t},expression:"categoryModel"}},[a("a-form",{attrs:{form:e.categoryForm,"label-col":{span:5},"wrapper-col":{span:12}},on:{submit:e.submit}},[a("a-form-item",{attrs:{label:"标签ID"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id",{rules:[{required:!0,message:"Please input your note!"}]}],expression:"['id',\n                        { rules: [{ required: true, message: 'Please input your note!' }] }]"}],attrs:{disabled:"编辑标签"===e.categoryMoadelTitle}})],1),a("a-form-item",{attrs:{label:"标签名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"Please input your note!"}]}],expression:"['name',\n                        { rules: [{ required: true, message: 'Please input your note!' }] }]"}]})],1),a("a-form-item",{attrs:{label:"所属子类别"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["c_items",{rules:[{required:!0,message:"Please input your tags",type:"array"}]}],expression:"['c_items', {\n                  rules: [{ required: true, message: 'Please input your tags', type: 'array' }]\n                }]"}],attrs:{mode:"tags",placeholder:"items Mode"}})],1)],1)],1)],1)},o=[],i=(a("4160"),a("b64b"),a("d3b7"),a("159b"),a("5530")),n=a("c405"),s={data:function(){return{data:[],categoryModel:!1,isEdit:!1,categoryMoadelTitle:"新增标签",categoryForm:this.$form.createForm(this,{name:"categoryForm"}),pagination:{current:1,pageSize:10,showSizeChanger:!0},loading:!1,columns:[{title:"id",dataIndex:"id",width:"20%"},{title:"名称",dataIndex:"name"},{title:"操作",scopedSlots:{customRender:"operation"}}]}},created:function(){this.fetch()},methods:{handleTableChange:function(e,t,a){var r=Object(i["a"])({},this.pagination);r.current=e.current,r.pageSize=e.pageSize,this.pagination=r,this.fetch(Object(i["a"])({results:e.pageSize,page:e.current,sortField:a.field,sortOrder:a.order},t))},fetch:function(){var e=this;this.loading=!0,n["a"].getCategoryList({page:this.pagination.current||1,size:this.pagination.pageSize||10}).then((function(t){var a=Object(i["a"])({},e.pagination);return a.total=t.total,e.data=t.data,e.pagination=a,!1})).finally((function(){e.loading=!1}))},submit:function(){var e=this;this.categoryForm.validateFields((function(t,a){return!t&&(e.isEdit?e.editSubmit(a):e.addSubmit(a))}))},addSubmit:function(e){var t=this;n["a"].addCategory(e).then((function(){t.$message.success("新增成功"),t.fetch(),t.categoryModel=!1})).catch((function(e){t.$message.error(e)}))},editSubmit:function(e){var t=this;n["a"].editCategory(e).then((function(){t.$message.success("修改成功"),t.fetch(),t.categoryModel=!1})).catch((function(e){t.$message.error(e)}))},editCategory:function(e){var t=this;Object.keys(e).forEach((function(a){t.categoryForm.getFieldDecorator({item:e[a]})})),this.categoryModel=!0,this.isEdit=!0,this.categoryMoadelTitle="编辑标签"},addCategory:function(){this.categoryForm=this.$form.createForm(this,{name:"categoryForm"}),this.categoryModel=!0,this.isEdit=!1,this.categoryMoadelTitle="新增标签"},deleteCategory:function(e){var t=this;n["a"].deleteCategory({id:e.id}).then((function(){t.$message.success("删除成功"),t.fetch()})).catch((function(e){t.$message.error(e)}))}}},c=s,u=(a("ffd1"),a("2877")),d=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},c405:function(e,t,a){"use strict";var r=a("bb36");t["a"]={getCategoryList:function(e){return r["a"].get("/category/all",{params:e})},getCategory:function(){return r["a"].get("/category/all")},editCategory:function(e){return r["a"].put("/category/edit",e)},getCate:function(e){return r["a"].get("/category/".concat(e))},addCategory:function(e){return r["a"].get("/category/add",e)},deleteCategory:function(e){var t=e.id;return r["a"].delete("/category/".concat(t))}}},ffd1:function(e,t,a){"use strict";a("5f27")}}]);
//# sourceMappingURL=chunk-435d70f5.0eea4d77.js.map