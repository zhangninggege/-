{"version":3,"sources":["webpack:///./src/views/page/categoryList.vue?e486","webpack:///src/views/page/categoryList.vue","webpack:///./src/views/page/categoryList.vue?aebd","webpack:///./src/views/page/categoryList.vue","webpack:///./src/api/category.js","webpack:///./src/views/page/categoryList.vue?47bb"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","addCategory","_v","attrs","columns","record","id","data","pagination","loading","handleTableChange","scopedSlots","_u","key","fn","$event","editCategory","deleteCategory","categoryMoadelTitle","submit","model","value","callback","$$v","categoryModel","expression","categoryForm","span","directives","name","rawName","rules","required","message","type","staticRenderFns","isEdit","$form","createForm","current","pageSize","showSizeChanger","created","fetch","methods","pager","results","page","sortField","sorter","field","sortOrder","order","validateFields","err","addSubmit","editSubmit","Object","keys","row","forEach","component","getCategoryList","params","axios","get","getCategory","put","getCate","delete"],"mappings":"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","file":"js/chunk-435d70f5.0eea4d77.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods-category\"},[_c('a-button',{staticClass:\"add-btn\",on:{\"click\":_vm.addCategory}},[_vm._v(\"新增\")]),_c('a-table',{attrs:{\"columns\":_vm.columns,\"row-key\":function (record) { return record.id; },\"data-source\":_vm.data,\"pagination\":_vm.pagination,\"loading\":_vm.loading},on:{\"change\":_vm.handleTableChange},scopedSlots:_vm._u([{key:\"operation\",fn:function(record){return [_c('div',[_c('a-button',{on:{\"click\":function($event){return _vm.editCategory(record)}}},[_vm._v(\"编辑\")]),_c('a-button',{on:{\"click\":function($event){return _vm.deleteCategory(record)}}},[_vm._v(\"删除\")])],1)]}}])}),_c('a-modal',{attrs:{\"title\":_vm.categoryMoadelTitle,\"centered\":\"\"},on:{\"ok\":_vm.submit},model:{value:(_vm.categoryModel),callback:function ($$v) {_vm.categoryModel=$$v},expression:\"categoryModel\"}},[_c('a-form',{attrs:{\"form\":_vm.categoryForm,\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }},on:{\"submit\":_vm.submit}},[_c('a-form-item',{attrs:{\"label\":\"标签ID\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['id',\n                        { rules: [{ required: true, message: 'Please input your note!' }] }]),expression:\"['id',\\n                        { rules: [{ required: true, message: 'Please input your note!' }] }]\"}],attrs:{\"disabled\":_vm.categoryMoadelTitle === '编辑标签'}})],1),_c('a-form-item',{attrs:{\"label\":\"标签名称\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['name',\n                        { rules: [{ required: true, message: 'Please input your note!' }] }]),expression:\"['name',\\n                        { rules: [{ required: true, message: 'Please input your note!' }] }]\"}]})],1),_c('a-form-item',{attrs:{\"label\":\"所属子类别\"}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['c_items', {\n                  rules: [{ required: true, message: 'Please input your tags', type: 'array' }]\n                }]),expression:\"['c_items', {\\n                  rules: [{ required: true, message: 'Please input your tags', type: 'array' }]\\n                }]\"}],attrs:{\"mode\":\"tags\",\"placeholder\":\"items Mode\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"goods-category\">\n    <a-button @click=\"addCategory\" class=\"add-btn\">新增</a-button>\n    <a-table\n      :columns=\"columns\"\n      :row-key=\"record => record.id\"\n      :data-source=\"data\"\n      :pagination=\"pagination\"\n      :loading=\"loading\"\n      @change=\"handleTableChange\"\n    >\n      <template slot=\"operation\" slot-scope=\"record\">\n        <div>\n          <a-button @click=\"editCategory(record)\">编辑</a-button>\n          <a-button @click=\"deleteCategory(record)\">删除</a-button>\n        </div>\n      </template>\n    </a-table>\n    <a-modal v-model=\"categoryModel\" :title=\"categoryMoadelTitle\" centered @ok=\"submit\">\n      <a-form\n        :form=\"categoryForm\"\n        :label-col=\"{ span: 5 }\"\n        :wrapper-col=\"{ span: 12 }\"\n        @submit=\"submit\"\n      >\n        <a-form-item label=\"标签ID\">\n          <a-input\n            :disabled=\"categoryMoadelTitle === '编辑标签'\"\n            v-decorator=\"['id',\n                          { rules: [{ required: true, message: 'Please input your note!' }] }]\"\n          />\n        </a-form-item>\n        <a-form-item label=\"标签名称\">\n          <a-input\n            v-decorator=\"['name',\n                          { rules: [{ required: true, message: 'Please input your note!' }] }]\"\n          />\n        </a-form-item>\n        <a-form-item label=\"所属子类别\">\n          <a-select mode=\"tags\"  placeholder=\"items Mode\"\n                  v-decorator=\"['c_items', {\n                    rules: [{ required: true, message: 'Please input your tags', type: 'array' }]\n                  }]\">\n\n          </a-select>\n        </a-form-item>\n      </a-form>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport api from '@/api/category';\n\nexport default {\n  data() {\n    return {\n      data: [],\n      categoryModel: false,\n      isEdit: false,\n      categoryMoadelTitle: '新增标签',\n      categoryForm: this.$form.createForm(this, { name: 'categoryForm' }),\n      pagination: {\n        current: 1,\n        pageSize: 10,\n        showSizeChanger: true,\n      },\n      loading: false,\n      columns: [\n        {\n          title: 'id',\n          dataIndex: 'id',\n          width: '20%',\n        },\n        {\n          title: '名称',\n          dataIndex: 'name',\n        },\n        {\n          title: '操作',\n          scopedSlots: { customRender: 'operation' },\n        },\n      ],\n    };\n  },\n  created() {\n    this.fetch();\n  },\n  methods: {\n    handleTableChange(pagination, filters, sorter) {\n      const pager = { ...this.pagination };\n      pager.current = pagination.current;\n      pager.pageSize = pagination.pageSize;\n      this.pagination = pager;\n      this.fetch({\n        results: pagination.pageSize,\n        page: pagination.current,\n        sortField: sorter.field,\n        sortOrder: sorter.order,\n        ...filters,\n      });\n    },\n    fetch() {\n      this.loading = true;\n      api\n        .getCategoryList({\n          page: this.pagination.current || 1,\n          size: this.pagination.pageSize || 10,\n        })\n        .then((data) => {\n          const pagination = { ...this.pagination };\n          pagination.total = data.total;\n          this.data = data.data;\n          this.pagination = pagination;\n          return false;\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n    submit() {\n      this.categoryForm.validateFields((err, values) => {\n        if (err) {\n          return false;\n        }\n        if (this.isEdit) {\n          return this.editSubmit(values);\n        }\n        return this.addSubmit(values);\n      });\n    },\n    addSubmit(values) {\n      api\n        .addCategory(values)\n        .then(() => {\n          this.$message.success('新增成功');\n          this.fetch();\n          this.categoryModel = false;\n        })\n        .catch((err) => {\n          this.$message.error(err);\n        });\n    },\n    editSubmit(values) {\n      api\n        .editCategory(values)\n        .then(() => {\n          // if (res.data.status === 'success') {\n          this.$message.success('修改成功');\n          this.fetch();\n          this.categoryModel = false;\n        })\n        .catch((err) => {\n          this.$message.error(err);\n        });\n    },\n    editCategory(row) {\n      Object.keys(row).forEach((item) => {\n        this.categoryForm.getFieldDecorator({ item: row[item] });\n      });\n      this.categoryModel = true;\n      this.isEdit = true;\n      this.categoryMoadelTitle = '编辑标签';\n    },\n    addCategory() {\n      this.categoryForm = this.$form.createForm(this, { name: 'categoryForm' });\n      this.categoryModel = true;\n      this.isEdit = false;\n      this.categoryMoadelTitle = '新增标签';\n    },\n    deleteCategory(record) {\n      api\n        .deleteCategory({\n          id: record.id,\n        })\n        .then(() => {\n          this.$message.success('删除成功');\n          this.fetch();\n        })\n        .catch((err) => {\n          this.$message.error(err);\n        });\n    },\n  },\n};\n</script>\n\n<style scope>\n.add-btn {\n  float: right;\n  margin: 10px;\n  position: relative;\n  z-index: 1;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./categoryList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./categoryList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./categoryList.vue?vue&type=template&id=42858a2a&\"\nimport script from \"./categoryList.vue?vue&type=script&lang=js&\"\nexport * from \"./categoryList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./categoryList.vue?vue&type=style&index=0&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from '@/axios';\n\nexport default {\n  getCategoryList(params) {\n    return axios.get('/category/all', {\n      params,\n    });\n  },\n  getCategory() {\n    return axios.get('/category/all');\n  },\n  editCategory(params) {\n    return axios.put('/category/edit', params);\n  },\n  getCate(params) {\n    return axios.get(`/category/${params}`);\n  },\n  addCategory(params) {\n    return axios.get('/category/add', params);\n  },\n  deleteCategory(params) {\n    const { id } = params;\n    return axios.delete(`/category/${id}`);\n  },\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./categoryList.vue?vue&type=style&index=0&scope=true&lang=css&\""],"sourceRoot":""}